{"version":3,"sources":["../src/code/modules/electron.ts","../src/code/modules/win-man.ts"],"sourcesContent":["/**\r\n * @name                                    electron.ts\r\n * @description                             electron module\r\n*/\r\n\r\n\r\n\r\n/* ┌─────────────────────────────────────── PACK ───────────────────────────────────────┐  */\r\n\r\n    import pug                              from 'pug';\r\n    import sass                             from 'sass';\r\n    import { WinMan }                       from './win-man';\r\n    import { logger }                       from '@je-es/log';\r\n    import { app, BrowserWindow, ipcMain }  from 'electron';\r\n\r\n/* └────────────────────────────────────────────────────────────────────────────────────┘  */\r\n\r\n\r\n\r\n/* ┌─────────────────────────────────────── TYPE ───────────────────────────────────────┐  */\r\n\r\n    import { i_electron, i_ipcEvents }        from './types';\r\n\r\n/* └────────────────────────────────────────────────────────────────────────────────────┘  */\r\n\r\n\r\n\r\n/* ┌─────────────────────────────────────── DATA ───────────────────────────────────────┐  */\r\n\r\n    declare const global: any;\r\n\r\n    let data: i_electron;\r\n\r\n    const static_ipcEvents: i_ipcEvents =\r\n    {\r\n        'window':\r\n        {\r\n            'get'               : (args: any) =>\r\n            WinMan.get(),\r\n\r\n            'create'            : (winName: string) =>\r\n            WinMan.create(winName),\r\n\r\n            'close'             : (winName: string) =>\r\n            WinMan.close(winName),\r\n        },\r\n\r\n        'libs':\r\n        {\r\n            'pug'               : (args: any) =>\r\n            pug.compileFile(args.targetPath, args.options)(args.data),\r\n\r\n            'sass'              : (args: any) =>\r\n            sass.compile(args.targetPath).css,\r\n        },\r\n\r\n        'temp':\r\n        {\r\n            'prolog-options'    : (): string =>\r\n            {\r\n                if (data.meta?.logsDirectory) return data.meta?.logsDirectory;\r\n                if (data.meta?.mainDirectory) return data.meta?.mainDirectory;\r\n                return process.cwd();\r\n            },\r\n\r\n            'mainDirectory': () =>\r\n            global.mainDirectory,\r\n        }\r\n    };\r\n\r\n/* └────────────────────────────────────────────────────────────────────────────────────┘  */\r\n\r\n\r\n\r\n/* ┌─────────────────────────────────────── CORE ───────────────────────────────────────┐  */\r\n\r\n    /**\r\n    * Initializes the Electron application with the provided Electron options.\r\n    *\r\n    * @param {i_electron} options           - The options for the Electron application. Defaults to an empty object.\r\n    *\r\n    * @return {Promise<void>}               - A promise that resolves when the Electron application is successfully initialized.\r\n    */\r\n    export const electron\r\n    = async (options: i_electron = {})\r\n    : Promise<void> =>\r\n    {\r\n        try\r\n        {\r\n            // [0] Requirments\r\n            {\r\n                if (!global.log)\r\n                {\r\n                    const root = options.meta?.mainDirectory || process.cwd();\r\n                    global.log = new logger({ root, save: true });\r\n                }\r\n            }\r\n\r\n            // [1] Assign data\r\n            {\r\n                data = options;\r\n\r\n                // - add ipc events\r\n                if (data.events)\r\n                {\r\n                    if (!data.events.ipc) data.events.ipc = static_ipcEvents;\r\n                    else\r\n                    {\r\n                        for (const group in static_ipcEvents)\r\n                        {\r\n                            if (!data.events.ipc[group]) data.events.ipc[group] = static_ipcEvents[group];\r\n                            else\r\n                            {\r\n                                for (const event in static_ipcEvents[group])\r\n                                    if (!data.events.ipc[group][event]) data.events.ipc[group][event] = static_ipcEvents[group][event];\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // - global window api\r\n                    global.win = data.events.ipc.window;\r\n                }\r\n\r\n                // - set global __dirname\r\n                global.mainDirectory = options.meta?.mainDirectory || process.cwd();\r\n            }\r\n\r\n            // [2] Bind events\r\n            {\r\n                app.on('window-all-closed', Helpers.onWindowAllClosed);\r\n                app.on('ready', Helpers.onReady);\r\n            }\r\n        }\r\n\r\n        catch (error)\r\n        {\r\n            console.error(`Failed to start electron : ${error}`);\r\n            throw error;\r\n        }\r\n    };\r\n\r\n/* └────────────────────────────────────────────────────────────────────────────────────┘  */\r\n\r\n\r\n\r\n/* ┌─────────────────────────────────────── HELP ───────────────────────────────────────┐  */\r\n\r\n    const Helpers =\r\n    {\r\n        /**\r\n         * Executes the onWindowAllClosed function asynchronously.\r\n         *\r\n         * This function is called when all windows are closed. It performs the following steps:\r\n         * 1. If there is a close callback defined in the data.events.app object, it awaits its execution.\r\n         * 2. If the current platform is not 'darwin' (i.e., not macOS), it quits the application.\r\n         *\r\n         * @return {Promise<void>} A promise that resolves when the function completes.\r\n        */\r\n        onWindowAllClosed: async () =>\r\n        {\r\n            // [0] Use close callback\r\n            if (data.events && data.events.app && data.events.app.onClose)\r\n                await data.events.app.onClose(); // - keep await\r\n\r\n            // [1] Close application\r\n            if (process.platform !== 'darwin')\r\n            {\r\n                // - on OS X it is common for applications and their menu bar\r\n                // - to stay active until the user quits explicitly with Cmd + Q\r\n                app.quit();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Executes the onReady function asynchronously.\r\n         *\r\n         * This function sets up IPC event handling and initializes the Electron application.\r\n         * It checks if the IPC has a group and an event, and calls the event with the provided arguments.\r\n         * If the IPC is not found or the group or event is not found, an error is thrown.\r\n         * The function also checks if the 'onReady' callback is defined in the 'data.events.app' object,\r\n         * and if so, it awaits its execution.\r\n         * Finally, it creates a default window if no windows are currently open.\r\n         *\r\n         * @return {Promise<void>} A promise that resolves when the onReady function is successfully executed.\r\n        */\r\n        onReady: async () =>\r\n        {\r\n            // [0] Events\r\n            ipcMain.handle('events', async (event, options: { group: string, event: string, args: any }) =>\r\n            {\r\n                try\r\n                {\r\n                    // ! check if data.events.ipc\r\n                    if (!data.events || !data.events.ipc)\r\n                        throw new Error(`data.events.ipc not found`);\r\n\r\n                    // ! check if the IPC has a group\r\n                    if (!data.events.ipc[options.group])\r\n                        throw new Error(`data.events.ipc.group not found: ${options.group}`);\r\n\r\n                    // ! check if the IPC has an event\r\n                    if (!data.events.ipc[options.group][options.event])\r\n                        throw new Error(`data.events.ipc.group.event not found: ${options.group}.${options.event}`);\r\n\r\n                    // - call the event\r\n                    const res = await data.events.ipc[options.group][options.event](options.args);\r\n\r\n                    // - return the result\r\n                    return res;\r\n                }\r\n\r\n                catch (err : any)\r\n                {\r\n                    console.error(`Error handling IPC event: ${err.message}`);\r\n                    throw err;\r\n                }\r\n            });\r\n\r\n            // [1] Use ready callback\r\n            if (data.events && data.events.app && data.events.app.onReady)\r\n                await data.events.app.onReady(); // - keep await\r\n\r\n            // [2] Create default window\r\n            if (BrowserWindow.getAllWindows().length === 0)\r\n                await WinMan.setup(data.meta?.defaultWindow || 'splash');\r\n        },\r\n    };\r\n\r\n/* └────────────────────────────────────────────────────────────────────────────────────┘  */\r\n","/**\r\n * @name                                    win-man.ts\r\n * @description                             WinMan module\r\n*/\r\n\r\n\r\n\r\n/* ┌─────────────────────────────────────── PACK ───────────────────────────────────────┐  */\r\n\r\n    import { app, BrowserWindow }           from 'electron';\r\n    import fs                              from 'fs';\r\n    import path                            from 'path';\r\n\r\n/* └────────────────────────────────────────────────────────────────────────────────────┘  */\r\n\r\n\r\n\r\n/* ┌─────────────────────────────────────── TYPE ───────────────────────────────────────┐  */\r\n\r\n    import { i_winman, i_window, i_win_cnf, i_baseEvents as i_win_evt }\r\n    from './types';\r\n\r\n/* └────────────────────────────────────────────────────────────────────────────────────┘  */\r\n\r\n\r\n\r\n/* ┌─────────────────────────────────────── DATA ───────────────────────────────────────┐  */\r\n\r\n    declare const global : any;\r\n\r\n    let data : i_winman;\r\n\r\n/* └────────────────────────────────────────────────────────────────────────────────────┘  */\r\n\r\n\r\n\r\n/* ┌─────────────────────────────────────── CORE ───────────────────────────────────────┐  */\r\n\r\n    export const WinMan\r\n    =\r\n    {\r\n        setup  : async (defaultWindow : string) =>\r\n        {\r\n            try\r\n            {\r\n                // [0] Assign data\r\n                {\r\n                    data =\r\n                    {\r\n                        defaultWindow   : defaultWindow,\r\n                        windows         : Helpers.initWindows(Helpers.fetchWindows()),\r\n                    }\r\n                }\r\n\r\n                // [1] Create default window\r\n                WinMan.create(data.defaultWindow);\r\n            }\r\n\r\n            catch(try_err)\r\n            {\r\n                global.log.error(`Failed to setup windows : ${try_err}`);\r\n\r\n                throw try_err;\r\n            }\r\n        },\r\n\r\n        create  : async (winName : string, callback ?:  (winName : string) => void) =>\r\n        {\r\n            try\r\n            {\r\n                // [0] Get window\r\n                const win = Helpers.getWindowByName(winName);\r\n\r\n                // [1] Create window\r\n                const window = new BrowserWindow(win.config.electronOptions);\r\n\r\n                // [2] Save window\r\n                win._window = window;\r\n\r\n                // [3] Load HTML\r\n                win._window.loadFile(path.join(__dirname, '../src/code/static/index.html'));\r\n\r\n                // [z] Extra Options\r\n                {\r\n                    // - Hide menu bar (if not configured || false\r\n                    if(!win.config.options.menu)\r\n                        win._window.setMenuBarVisibility(false);\r\n                }\r\n\r\n                // [x] Events\r\n                {\r\n                    if(win?.events?.onClose) win._window.on('closed', win.events.onClose);\r\n\r\n                    win._window.on('ready-to-show', () =>\r\n                    {\r\n                        // - Callback\r\n                        if(callback) callback(winName);\r\n\r\n                        // - Show\r\n                        win._window?.show();\r\n\r\n                        // - onReady\r\n                        if(win.events?.onReady) win.events.onReady();\r\n                    });\r\n                }\r\n            }\r\n\r\n            catch(try_err)\r\n            {\r\n                global.log.error(`Failed to create window : ${try_err}`);\r\n\r\n                throw try_err;\r\n            }\r\n        },\r\n\r\n        close   : async (winName : string, callback ?: (winName : string) => void) =>\r\n        {\r\n            try\r\n            {\r\n                // [0] Get window\r\n                const win = Helpers.getWindowByName(winName);\r\n\r\n                // [1] Close window\r\n                win._window?.close();\r\n                win._window = undefined;\r\n            }\r\n\r\n            catch(try_err)\r\n            {\r\n                global.log.error(`Failed to close window : ${try_err}`);\r\n            }\r\n        },\r\n\r\n        /**\r\n         *\r\n         * @returns { name: string, path: string }  - The focused window || default window\r\n        */\r\n        get     : () : any =>\r\n        {\r\n            for(let i = 0; i < data.windows.length; i++)\r\n                if(data.windows[i]._window?.isFocused())\r\n                    return { name: data.windows[i].name, path: data.windows[i].path, components: data.windows[i].config.components };\r\n\r\n            // return to default\r\n            return WinMan.getDefault();\r\n        },\r\n\r\n        /**\r\n         *\r\n         * @returns { name: string, path: string }  - The default window\r\n        */\r\n        getDefault : () : any =>\r\n        {\r\n            let win = Helpers.getWindowByName(data.defaultWindow);\r\n\r\n            return { name: win.name, path: win.path, components: win.config.components };\r\n        }\r\n    }\r\n\r\n/* └────────────────────────────────────────────────────────────────────────────────────┘  */\r\n\r\n\r\n\r\n/* ┌─────────────────────────────────────── HELP ───────────────────────────────────────┐  */\r\n\r\n    const defined = (obj : any) : boolean => typeof obj !== 'undefined';\r\n\r\n    const Helpers =\r\n    {\r\n        fetchWindows                        : () : i_window[] =>\r\n        {\r\n            // - to store fetched windows\r\n            let res : i_window[] = [];\r\n\r\n            // - get windows root path\r\n            const windowsRoot = path.join(global.mainDirectory, '/interface/windows/');\r\n\r\n            // - read windows directory\r\n            let windows = fs.readdirSync(windowsRoot);\r\n\r\n            // - loop through windows\r\n            for(let i = 0; i < windows.length; i++)\r\n            {\r\n                // - get window root path\r\n                const windowRoot = path.join(windowsRoot, windows[i]);\r\n\r\n                // - window config\r\n                const config : i_win_cnf = JSON.parse(fs.readFileSync(path.join(windowRoot, '/config.json'), 'utf8'));\r\n\r\n                // - window events\r\n                const events : i_win_evt = require(path.join(windowRoot, '/events.js'));\r\n\r\n                // - save fetched window\r\n                res.push\r\n                ({\r\n                    name    : config.name,\r\n                    path    : windowRoot,\r\n                    config  : config,\r\n                    events  : events,\r\n                });\r\n            }\r\n\r\n            return res;\r\n        },\r\n\r\n        initWindows                         : (windows : i_window[]) =>\r\n        {\r\n            // - loop through windows\r\n            for(let i = 0; i < windows.length; i++)\r\n            {\r\n                let electronOptions : any = {};\r\n\r\n                // - size\r\n                {\r\n                    // - width\r\n                    {\r\n                        if(defined(windows[i].config.options.width))\r\n                            electronOptions.width           = windows[i].config.options.width;\r\n\r\n                        if(defined(windows[i].config.options.maxWidth))\r\n                            electronOptions.maxWidth        = windows[i].config.options.maxWidth;\r\n\r\n                        if(defined(windows[i].config.options.minWidth))\r\n                            electronOptions.minWidth        = windows[i].config.options.minWidth;\r\n                    }\r\n\r\n                    // - height\r\n                    {\r\n                        if(defined(windows[i].config.options.height))\r\n                            electronOptions.height          = windows[i].config.options.height;\r\n\r\n                        if(defined(windows[i].config.options.maxHeight))\r\n                            electronOptions.maxHeight       = windows[i].config.options.maxHeight;\r\n\r\n                        if(defined(windows[i].config.options.minHeight))\r\n                            electronOptions.minHeight       = windows[i].config.options.minHeight;\r\n                    }\r\n                }\r\n\r\n                // - window\r\n                {\r\n                    if(defined(windows[i].config.options.frame))\r\n                        electronOptions.frame               = windows[i].config.options.frame;\r\n\r\n                    if(defined(windows[i].config.options.show))\r\n                        electronOptions.show                = windows[i].config.options.show;\r\n\r\n                    if(defined(windows[i].config.options.transparent))\r\n                        electronOptions.transparent         = windows[i].config.options.transparent;\r\n                }\r\n\r\n                // - web preferences\r\n                {\r\n                    electronOptions.webPreferences = {};\r\n\r\n                    // - preload\r\n                    if(defined(windows[i].config.options.webPreferences.preload) && windows[i].config.options.webPreferences.preload)\r\n                        electronOptions.webPreferences.preload = path.join(__dirname, '../src/code/modules/preload.js');\r\n\r\n                    // - node integration\r\n                    if(defined(windows[i].config.options.webPreferences.nodeIntegration))\r\n                        electronOptions.webPreferences.nodeIntegration = windows[i].config.options.webPreferences.nodeIntegration;\r\n\r\n                    // - context isolation\r\n                    if(defined(windows[i].config.options.webPreferences.contextIsolation))\r\n                        electronOptions.webPreferences.contextIsolation = windows[i].config.options.webPreferences.contextIsolation;\r\n\r\n                    // - sandbox\r\n                    if(defined(windows[i].config.options.webPreferences.sandbox))\r\n                        electronOptions.webPreferences.sandbox = windows[i].config.options.webPreferences.sandbox;\r\n                }\r\n\r\n                windows[i].config.electronOptions = electronOptions;\r\n            }\r\n\r\n            return windows;\r\n        },\r\n\r\n        getWindowByName                    : (name : string) =>\r\n        {\r\n            const win = data.windows.find((window : i_window) => window.name === name);\r\n\r\n            if(!win)\r\n            throw new Error(`Window not found : ${name}`);\r\n\r\n            return win;\r\n        },\r\n    };\r\n\r\n/* └────────────────────────────────────────────────────────────────────────────────────┘  */\r\n\r\n"],"mappings":"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","names":["_a","app","BrowserWindow","data","app","Helpers","BrowserWindow"]}